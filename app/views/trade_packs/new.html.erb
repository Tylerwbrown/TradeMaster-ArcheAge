<h1 class="text-center">New Trade Pack</h1>
<%= simple_form_for @trade_pack, html: { class: 'row' } do |f| %>
  <div class="col-sm-12 col-md-6 <%= @rows == 2 ? 'col-lg-4' : '' %>">
    <%= f.input :name %>
    <%= f.input :labor_cost, label: 'Cost <span class="badge badge-info">Labor</span>'.html_safe %>
  </div>
  <div class="col-sm-12 col-md-6 <%= @rows == 2 ? 'col-lg-8' : '' %>">
    <%= f.simple_fields_for :component_ids do |i| %>
      <% if @rows == 2 %>
        <div class="row">
          <% @row_size.times do |t| %>
            <div class="col-lg-6"><%= i.input t, label: "Component #{t+1}", collection: Component.all.map { |c| [c.name, c.id] }, as: :select %></div>
          <% end %>
          <% (@component_count - @row_size).times do |t| %>
              <div class="col-lg-6"><%= i.input t, label: "Component #{t+1+@row_size}", collection: Component.all.map { |c| [c.name, c.id] }, as: :select %></div>
          <% end %>
        </div>
      <% else %>
        <% @component_count.times do |t| %>
          <%= i.input t, label: "Component #{t+1}", collection: Component.all.map { |c| [c.name, c.id] }, as: :select %>
        <% end %>
      <% end %>
    <% end %>
  </div>

  <br />
  <div class="col-sm-12"><%= f.submit 'Create Trade Pack', class: 'btn btn-success btn-block' %></div>
<% end %>
